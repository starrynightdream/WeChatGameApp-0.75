# 小游戏的代码库

> =w=
> 
> 欢迎

## 下载 ##

克隆至本地后使用cocos导入即可

## 些许注意事项 ##
art 为美术资源文件夹，放置单独的：图片、粒子效果、材质等

preform 为预制体文件夹，其中

    Item文件夹放置继承自Item.js的文件

    background 文件夹放置背景和云的预制体

    UI预制体放在还未创建的UI文件夹下

Scene 为场景文件夹

script为脚本文件夹，其中

    Item文件夹放置继承自Item.js的文件，后缀根据类型选择：Battery、Collection、Hinder、Eng

    UI文件夹放置继承自UI.js的文件

关于测试脚本，在gameControl内有itemTestList，在其中的物件在游戏开始时会被创建，可以用于测试

## 组件 ##
- 物件类
    + 所有项目继承同一父类
    + 能源
        * 以电池为基础，上面添加能源类型的标识
        * 能源类型
            - 清洁类
                + 太阳能
                + 潮汐能
                + 风能
                + 水电
                + 核能
            - 污染类
                + 煤炭
                + 秸秆
                + 石油
                + 汽油
            - 待续
    + 障碍
        * 触碰即死亡
        * 类型
            - 小鸟
            - 陨石
            - UFO
    + 收集品
        * 即加分项，添加挑战性
    + 发动机
        * 变更
- 控制条
    + 需要显示控制器的部分和能源的残余
    + 控制器部分
        - 弧形控制盘
        - 控制纽
    + 能源的残余
        - 需要显示能源的清洁和污染区别
- 乌云
    + 可以遮盖障碍
    + 随时间消散，但不会完全消失
- 右上提示
    + 简单介绍（概括）当前拾取的能源等
- 火箭
    + 火焰效果、坠机效果、能源用尽效果等
- 背景
    + 可以变化或者滚动，依照具体设计
- 计分板
    + 富有动感的分数表示

------
## 游戏机制设定 ##

- 速死模式
- 能源区分为清洁能源和污染能源
- 乌云在使用污染能源后出现
- 游戏得分参照
    + 飞行高度
    + 加分项
        * 拾取清洁能源
        * 拾取收集品
- 背景最初为蓝天白云，污染能源会染黑背景
- 污染能源会使火箭获取debuff；能耗上升
- 开始界面为
    + 正中间有小火箭，下方有按钮，按下后快速开始游戏
    + 火箭上方空位为文字介绍能源环保有关知识
- 火箭速度会上升，但有上限
- 火箭的运动方式为向前进，方向由控制条决定
- 火箭设定是在向上飞行。
- 待定未确定事项
    + 成就系统：如清洁能源飞行多少米/分
    + 排行榜
        - 有这个接口，在游戏初始做好之后增量开发
    + 滑动过快会使能耗上升。

## 对Item接口使用的解释 ##
createItem (xp, rocket, param)

    创建一个物件。在加入场景前被调用

    实现示例：

    this.node.x = xp; // 初始化物件出现的x位置

getItem(rocket);
    
    在碰撞时由火箭调用，参数(rocket)为火箭的rocket.js脚本引用.
    可以由此调用火箭的接口，实现实例：

    rocket.death(); // 实现在碰撞时使火箭死亡
                    // 需要实现碰撞死亡不要调用GameOver
    rocket.setEngType(); // 设置引擎类型
    rocket.getE(); // 获取能量槽填充情况

setGame(GC):

    在碰撞时由火箭调用，参数(GC)为游戏控制器的GameControl.js脚本引用
    可以由此调用游戏控制器接口，使用实例：

    GC.addScore(100);   // 为游戏加100分
    GC.pollute(1);      // 进行污染，指数为1
    GC.info("风能源");  // 在UI上显示信息

checkDead():

    判断是否死亡，返回true是确认死亡

    使用实例：

    return this.node.y < 1200; // 高度小于1200 时判断应销毁
    return this.isDead; // 使用自设定的属性控制销毁

Move(dt, vy, rocketNode)

    移动的函数，定义物件的移动方式
    使用实例：

    this.node.y -= vy * dt; // 模拟相对火箭上升静止

## rocket.js接口解释 ##
V() Vx() Vy()

    获取速度（大小，x方向，y方向）
    
setV()

    设置速度大小

death ()

    火箭死亡

setEng (type, E)

    设置发动机。

addE (type, E)

    添加能量

getE()

    获取能量的填充